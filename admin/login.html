<!DOCTYPE html>
<html lang="pl">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Logowanie do Panelu Administracyjnego | Salon Migdał</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
		<link
			href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Montserrat:wght@300;400;600&display=swap"
			rel="stylesheet"
		/>
		<script src="../js/visitor-tracker.js"></script>
		<style>
			:root {
				--brown: #8b6d5c;
				--light-brown: #a58d7f;
				--cream: #f5f1e8;
				--white: #ffffff;
				--dark: #2d2a26;
				--border-color: #e9ecef;
				--border-radius: 6px;
				--box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
			}

			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
				font-family: 'Montserrat', sans-serif;
			}

			body {
				background-color: var(--cream);
				display: flex;
				justify-content: center;
				align-items: center;
				min-height: 100vh;
				padding: 20px;
			}

			.login-container {
				width: 100%;
				max-width: 400px;
				background-color: var(--white);
				border-radius: var(--border-radius);
				box-shadow: var(--box-shadow);
				overflow: hidden;
			}

			.login-header {
				background-color: var(--brown);
				color: var(--white);
				padding: 30px;
				text-align: center;
			}

			.login-header h1 {
				font-family: 'Cormorant Garamond', serif;
				font-size: 28px;
				margin-bottom: 10px;
				font-weight: 600;
			}

			.login-header p {
				font-size: 14px;
				opacity: 0.9;
			}

			.login-form {
				padding: 30px;
			}

			.form-group {
				margin-bottom: 20px;
			}

			.form-group label {
				display: block;
				margin-bottom: 8px;
				font-size: 14px;
				font-weight: 500;
				color: var(--dark);
			}

			.input-group {
				position: relative;
			}

			.input-group i {
				position: absolute;
				top: 50%;
				left: 15px;
				transform: translateY(-50%);
				color: var(--light-brown);
			}

			.input-group input {
				width: 100%;
				padding: 12px 15px 12px 45px;
				border: 1px solid var(--border-color);
				border-radius: var(--border-radius);
				font-size: 14px;
				transition: all 0.3s ease;
			}

			.input-group input:focus {
				border-color: var(--brown);
				box-shadow: 0 0 0 3px rgba(139, 109, 92, 0.1);
				outline: none;
			}

			.forgot-password {
				display: block;
				text-align: right;
				font-size: 14px;
				color: var(--brown);
				margin-bottom: 20px;
				text-decoration: none;
			}

			.forgot-password:hover {
				text-decoration: underline;
			}

			.login-btn {
				display: block;
				width: 100%;
				padding: 12px;
				background-color: var(--brown);
				color: var(--white);
				border: none;
				border-radius: var(--border-radius);
				font-size: 16px;
				font-weight: 500;
				cursor: pointer;
				transition: all 0.3s ease;
			}

			.login-btn:hover {
				background-color: var(--light-brown);
			}

			.login-footer {
				display: flex;
				justify-content: center;
				padding: 20px 30px;
				background-color: var(--cream);
				border-top: 1px solid var(--border-color);
			}

			.login-footer a {
				color: var(--brown);
				text-decoration: none;
				font-size: 14px;
			}

			.login-footer a:hover {
				text-decoration: underline;
			}

			.error-message {
				background-color: rgba(220, 53, 69, 0.1);
				color: #dc3545;
				padding: 10px;
				border-radius: var(--border-radius);
				font-size: 14px;
				margin-bottom: 20px;
				display: none;
			}

			.error-message.show {
				display: block;
			}

			@media (max-width: 480px) {
				.login-header {
					padding: 20px;
				}

				.login-form {
					padding: 20px;
				}
			}

			.bg-brown {
				background-color: var(--brown);
			}

			.text-brown {
				color: var(--brown);
			}

			.border-brown {
				border-color: var(--brown);
			}
		</style>
	</head>
	<body class="bg-cream">
		<div class="flex items-center justify-center min-h-screen p-4">
			<div class="max-w-md w-full bg-white rounded-lg shadow-lg p-8">
				<div class="text-center mb-8">
					<h1 class="text-3xl font-semibold text-brown mb-2">Panel Administracyjny</h1>
					<p class="text-gray-600">Salon Fryzjerski Migdał</p>
				</div>

				<form id="loginForm" class="space-y-6">
					<div>
						<label for="username" class="block text-sm font-medium text-gray-700 mb-1">Nazwa użytkownika</label>
						<div class="relative">
							<div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
								<i class="fas fa-user text-gray-400"></i>
							</div>
							<input
								type="text"
								id="username"
								name="username"
								class="pl-10 w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brown focus:border-brown"
								placeholder="Login administratora"
								required
							/>
						</div>
					</div>

					<div>
						<label for="password" class="block text-sm font-medium text-gray-700 mb-1">Hasło</label>
						<div class="relative">
							<div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
								<i class="fas fa-lock text-gray-400"></i>
							</div>
							<input
								type="password"
								id="password"
								name="password"
								class="pl-10 w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brown focus:border-brown"
								placeholder="Hasło"
								required
							/>
							<button type="button" id="togglePassword" class="absolute inset-y-0 right-0 pr-3 flex items-center">
								<i class="fas fa-eye text-gray-400"></i>
							</button>
						</div>
					</div>

					<div class="flex items-center">
						<input
							type="checkbox"
							id="remember"
							name="remember"
							class="h-4 w-4 text-brown focus:ring-brown border-gray-300 rounded"
						/>
						<label for="remember" class="ml-2 block text-sm text-gray-700">Zapamiętaj mnie</label>
					</div>

					<div>
						<button
							type="submit"
							class="w-full bg-brown hover:bg-light-brown text-white font-medium py-3 px-4 rounded-md transition-all"
						>
							Zaloguj się
						</button>
					</div>

					<div id="error-message" class="text-red-600 text-center hidden">
						Nieprawidłowa nazwa użytkownika lub hasło.
					</div>
				</form>

				<div class="mt-6 text-center">
					<a href="../index.html" class="text-sm text-brown hover:underline">
						<i class="fas fa-arrow-left mr-1"></i> Powrót do strony głównej
					</a>
				</div>
			</div>
		</div>

		<script>
			document.addEventListener('DOMContentLoaded', function () {
				// Obsługa przycisku pokazywania/ukrywania hasła
				const togglePasswordButton = document.getElementById('togglePassword')
				const passwordInput = document.getElementById('password')

				togglePasswordButton.addEventListener('click', function () {
					const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password'
					passwordInput.setAttribute('type', type)

					// Zmiana ikony
					const icon = this.querySelector('i')
					icon.classList.toggle('fa-eye')
					icon.classList.toggle('fa-eye-slash')
				})

				// Obsługa formularza logowania
				const loginForm = document.getElementById('loginForm')
				const errorMessage = document.getElementById('error-message')

				loginForm.addEventListener('submit', function (e) {
					e.preventDefault()

					const username = document.getElementById('username').value
					const password = document.getElementById('password').value
					const remember = document.getElementById('remember').checked

					// Bardzo podstawowe uwierzytelnianie - w prawdziwej implementacji
					// należy użyć bezpiecznej walidacji po stronie serwera
					if (username === 'admin' && password === 'admin123') {
						// Zapisz stan zalogowania w localStorage, jeśli "zapamiętaj mnie" jest zaznaczone
						if (remember) {
							localStorage.setItem('adminLoggedIn', 'true')
						} else {
							// W przeciwnym razie używamy sessionStorage
							sessionStorage.setItem('adminLoggedIn', 'true')
						}

						// Przekieruj do panelu administracyjnego
						window.location.href = 'dashboard.html'
					} else {
						// Pokaż komunikat o błędzie
						errorMessage.classList.remove('hidden')

						// Wstrząśnij formularzem dla lepszego feedbacku
						loginForm.classList.add('animate-wiggle')
						setTimeout(() => {
							loginForm.classList.remove('animate-wiggle')
						}, 500)
					}
				})

				// Sprawdź, czy użytkownik jest już zalogowany
				function checkLoggedIn() {
					if (localStorage.getItem('adminLoggedIn') === 'true' || sessionStorage.getItem('adminLoggedIn') === 'true') {
						window.location.href = 'dashboard.html'
					}
				}

				// Sprawdź stan logowania przy ładowaniu strony
				checkLoggedIn()
			})
		</script>
	</body>
</html>
